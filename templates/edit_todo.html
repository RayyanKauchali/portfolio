{% extends "base.html" %}
{% block title %}Edit Task{% endblock %}

{% block head_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
{% endblock %}

{% block content %}
<div class="page active" id="edit-todo">
    <section class="page-section">
        <div class="container">
            <div class="admin-card edit-form-card">
                <h2>Edit Task: <span class="text-cyan">{{ task.task[:50] }}...</span></h2>
                <a href="{{ url_for('admin_dashboard') }}#roadmap" class="text-secondary" style="margin-bottom: 2rem;">&larr; Back to Dashboard</a>

                <form action="{{ url_for('edit_todo', id=task.id) }}" method="POST" class="admin-form-col">
                    <div class="form-group">
                        <label for="task-task">Task</label>
                        <textarea id="task-task" name="task" rows="4" required>{{ task.task }}</textarea>
                    </div>
                    <div class="form-group">
                        <label for="task-category">Category</label>
                        <input type="text" id="task-category" name="category" value="{{ task.category }}" required>
                    </div>
                    <div class="form-group">
                        <label for="task-status">Status</label>
                        <select id="task-status" name="status" class="form-group input" style="padding: 0.75rem; background-color: var(--bg-secondary); border: 1px solid var(--border-color); color: var(--text-primary); font-size: 0.9rem;">
                            <option value="Active" {% if task.status == 'Active' %}selected{% endif %}>Active</option>
                            <option value="Pending" {% if task.status == 'Pending' %}selected{% endif %}>Pending</option>
                            <option value-="Paused" {% if task.status == 'Paused' %}selected{% endif %}>Paused</option>
                            <option value="Done" {% if task.status == 'Done' %}selected{% endif %}>Done</option>
                        </select>
                    </div>
                    <button type="submit" class="admin-btn">Save Changes</button>
                </form>
            </div>
        </div>
    </section>
</div>
{% endblock %}